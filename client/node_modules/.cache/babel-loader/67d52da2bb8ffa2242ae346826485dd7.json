{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\franc\\\\Desktop\\\\projects\\\\react-query-lazydays\\\\client\\\\src\\\\components\\\\user\\\\UserAppointments.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { Box, Center, Heading, IconButton, Table, Tbody, Td, Text, Tr } from '@chakra-ui/react';\nimport dayjs from 'dayjs';\nimport { ImCancelCircle } from 'react-icons/im';\nimport { Link } from 'react-router-dom';\nimport { useCancelAppointment } from '../appointments/hooks/useCancelAppointment';\nimport { useUser } from './hooks/useUser';\nimport { useUserAppointments } from './hooks/useUserAppointments';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AppointmentsTable(_ref) {\n  _s();\n  let {\n    userAppointments\n  } = _ref;\n  const cancelAppointment = useCancelAppointment();\n  return /*#__PURE__*/_jsxDEV(Table, {\n    variant: \"simple\",\n    m: 10,\n    maxWidth: \"500px\",\n    children: /*#__PURE__*/_jsxDEV(Tbody, {\n      children: userAppointments.map(appointment => /*#__PURE__*/_jsxDEV(Tr, {\n        children: [/*#__PURE__*/_jsxDEV(Td, {\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            children: dayjs(appointment.dateTime).format('MMM D')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Td, {\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            children: dayjs(appointment.dateTime).format('h a')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Td, {\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            children: appointment.treatmentName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Td, {\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            \"aria-label\": \"cancel appointment\",\n            onClick: () => {\n              cancelAppointment(appointment);\n            },\n            icon: /*#__PURE__*/_jsxDEV(ImCancelCircle, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)]\n      }, appointment.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(AppointmentsTable, \"uqSITFt3ckYgqn0/Bl5u9Bps7hg=\", false, function () {\n  return [useCancelAppointment];\n});\n_c = AppointmentsTable;\nexport function UserAppointments() {\n  _s2();\n  const {\n    user\n  } = useUser();\n  const userAppointments = useUserAppointments();\n  if (!user) {\n    // don't render if there's no user\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      mt: 10,\n      textAlign: \"center\",\n      children: \"Your Appointments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Center, {\n      children: userAppointments.length > 0 ? /*#__PURE__*/_jsxDEV(AppointmentsTable, {\n        userAppointments: userAppointments\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/Calendar\",\n        children: \"Book an appointment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s2(UserAppointments, \"Lzl9k6Vxg9X79b300YP/XDoAOe0=\", false, function () {\n  return [useUser, useUserAppointments];\n});\n_c2 = UserAppointments;\nvar _c, _c2;\n$RefreshReg$(_c, \"AppointmentsTable\");\n$RefreshReg$(_c2, \"UserAppointments\");","map":{"version":3,"names":["Box","Center","Heading","IconButton","Table","Tbody","Td","Text","Tr","dayjs","ImCancelCircle","Link","useCancelAppointment","useUser","useUserAppointments","AppointmentsTable","userAppointments","cancelAppointment","map","appointment","dateTime","format","treatmentName","id","UserAppointments","user","length"],"sources":["C:/Users/franc/Desktop/projects/react-query-lazydays/client/src/components/user/UserAppointments.tsx"],"sourcesContent":["import {\r\n  Box,\r\n  Center,\r\n  Heading,\r\n  IconButton,\r\n  Table,\r\n  Tbody,\r\n  Td,\r\n  Text,\r\n  Tr,\r\n} from '@chakra-ui/react';\r\nimport dayjs from 'dayjs';\r\nimport { ReactElement } from 'react';\r\nimport { ImCancelCircle } from 'react-icons/im';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nimport type { Appointment } from '../../../../shared/types';\r\nimport { useCancelAppointment } from '../appointments/hooks/useCancelAppointment';\r\nimport { useUser } from './hooks/useUser';\r\nimport { useUserAppointments } from './hooks/useUserAppointments';\r\n\r\ninterface AppointmentsTableProps {\r\n  userAppointments: Appointment[];\r\n}\r\n\r\nfunction AppointmentsTable({\r\n  userAppointments,\r\n}: AppointmentsTableProps): ReactElement {\r\n  const cancelAppointment = useCancelAppointment();\r\n\r\n  return (\r\n    <Table variant=\"simple\" m={10} maxWidth=\"500px\">\r\n      <Tbody>\r\n        {userAppointments.map((appointment) => (\r\n          <Tr key={appointment.id}>\r\n            <Td>\r\n              <Text>{dayjs(appointment.dateTime).format('MMM D')}</Text>\r\n            </Td>\r\n            <Td>\r\n              <Text>{dayjs(appointment.dateTime).format('h a')}</Text>\r\n            </Td>\r\n            <Td>\r\n              <Text>{appointment.treatmentName}</Text>\r\n            </Td>\r\n            <Td>\r\n              <IconButton\r\n                aria-label=\"cancel appointment\"\r\n                onClick={() => {\r\n                  cancelAppointment(appointment);\r\n                }}\r\n                icon={<ImCancelCircle />}\r\n              />\r\n            </Td>\r\n          </Tr>\r\n        ))}\r\n      </Tbody>\r\n    </Table>\r\n  );\r\n}\r\n\r\nexport function UserAppointments(): ReactElement | null {\r\n  const { user } = useUser();\r\n  const userAppointments = useUserAppointments();\r\n\r\n  if (!user) {\r\n    // don't render if there's no user\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <Heading mt={10} textAlign=\"center\">\r\n        Your Appointments\r\n      </Heading>\r\n      <Center>\r\n        {userAppointments.length > 0 ? (\r\n          <AppointmentsTable userAppointments={userAppointments} />\r\n        ) : (\r\n          <Link to=\"/Calendar\">Book an appointment</Link>\r\n        )}\r\n      </Center>\r\n    </Box>\r\n  );\r\n}\r\n"],"mappings":";;;AAAA,SACEA,GAAG,EACHC,MAAM,EACNC,OAAO,EACPC,UAAU,EACVC,KAAK,EACLC,KAAK,EACLC,EAAE,EACFC,IAAI,EACJC,EAAE,QACG,kBAAkB;AACzB,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,cAAc,QAAQ,gBAAgB;AAC/C,SAASC,IAAI,QAAkB,kBAAkB;AAGjD,SAASC,oBAAoB,QAAQ,4CAA4C;AACjF,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SAASC,mBAAmB,QAAQ,6BAA6B;AAAC;AAMlE,SAASC,iBAAiB,OAEe;EAAA;EAAA,IAFd;IACzBC;EACsB,CAAC;EACvB,MAAMC,iBAAiB,GAAGL,oBAAoB,EAAE;EAEhD,oBACE,QAAC,KAAK;IAAC,OAAO,EAAC,QAAQ;IAAC,CAAC,EAAE,EAAG;IAAC,QAAQ,EAAC,OAAO;IAAA,uBAC7C,QAAC,KAAK;MAAA,UACHI,gBAAgB,CAACE,GAAG,CAAEC,WAAW,iBAChC,QAAC,EAAE;QAAA,wBACD,QAAC,EAAE;UAAA,uBACD,QAAC,IAAI;YAAA,UAAEV,KAAK,CAACU,WAAW,CAACC,QAAQ,CAAC,CAACC,MAAM,CAAC,OAAO;UAAC;YAAA;YAAA;YAAA;UAAA;QAAQ;UAAA;UAAA;UAAA;QAAA,QACvD,eACL,QAAC,EAAE;UAAA,uBACD,QAAC,IAAI;YAAA,UAAEZ,KAAK,CAACU,WAAW,CAACC,QAAQ,CAAC,CAACC,MAAM,CAAC,KAAK;UAAC;YAAA;YAAA;YAAA;UAAA;QAAQ;UAAA;UAAA;UAAA;QAAA,QACrD,eACL,QAAC,EAAE;UAAA,uBACD,QAAC,IAAI;YAAA,UAAEF,WAAW,CAACG;UAAa;YAAA;YAAA;YAAA;UAAA;QAAQ;UAAA;UAAA;UAAA;QAAA,QACrC,eACL,QAAC,EAAE;UAAA,uBACD,QAAC,UAAU;YACT,cAAW,oBAAoB;YAC/B,OAAO,EAAE,MAAM;cACbL,iBAAiB,CAACE,WAAW,CAAC;YAChC,CAAE;YACF,IAAI,eAAE,QAAC,cAAc;cAAA;cAAA;cAAA;YAAA;UAAI;YAAA;YAAA;YAAA;UAAA;QACzB;UAAA;UAAA;UAAA;QAAA,QACC;MAAA,GAlBEA,WAAW,CAACI,EAAE;QAAA;QAAA;QAAA;MAAA,QAoBxB;IAAC;MAAA;MAAA;MAAA;IAAA;EACI;IAAA;IAAA;IAAA;EAAA,QACF;AAEZ;AAAC,GAjCQR,iBAAiB;EAAA,QAGEH,oBAAoB;AAAA;AAAA,KAHvCG,iBAAiB;AAmC1B,OAAO,SAASS,gBAAgB,GAAwB;EAAA;EACtD,MAAM;IAAEC;EAAK,CAAC,GAAGZ,OAAO,EAAE;EAC1B,MAAMG,gBAAgB,GAAGF,mBAAmB,EAAE;EAE9C,IAAI,CAACW,IAAI,EAAE;IACT;IACA,OAAO,IAAI;EACb;EAEA,oBACE,QAAC,GAAG;IAAA,wBACF,QAAC,OAAO;MAAC,EAAE,EAAE,EAAG;MAAC,SAAS,EAAC,QAAQ;MAAA,UAAC;IAEpC;MAAA;MAAA;MAAA;IAAA,QAAU,eACV,QAAC,MAAM;MAAA,UACJT,gBAAgB,CAACU,MAAM,GAAG,CAAC,gBAC1B,QAAC,iBAAiB;QAAC,gBAAgB,EAAEV;MAAiB;QAAA;QAAA;QAAA;MAAA,QAAG,gBAEzD,QAAC,IAAI;QAAC,EAAE,EAAC,WAAW;QAAA,UAAC;MAAmB;QAAA;QAAA;QAAA;MAAA;IACzC;MAAA;MAAA;MAAA;IAAA,QACM;EAAA;IAAA;IAAA;IAAA;EAAA,QACL;AAEV;AAAC,IAvBeQ,gBAAgB;EAAA,QACbX,OAAO,EACCC,mBAAmB;AAAA;AAAA,MAF9BU,gBAAgB;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module"}